{"version":3,"sources":["../../src/pages/tutor-chamado-pendente/tutor-chamado-pendente.module.ts","../../src/pages/tutor-chamado-pendente/tutor-chamado-pendente.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TutorChamadoPendentePage } from './tutor-chamado-pendente';\n\n@NgModule({\n  declarations: [\n    TutorChamadoPendentePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TutorChamadoPendentePage),\n  ],\n})\nexport class TutorChamadoPendentePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tutor-chamado-pendente/tutor-chamado-pendente.module.ts","import { HomePage } from './../home/home';\nimport { UtilsProvider } from './../../providers/utils/utils';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { ConexaoApiProvider } from '../../providers/conexao-api/conexao-api';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { StatusBar } from '@ionic-native/status-bar';\n\n@IonicPage()\n@Component({\n  selector: 'page-tutor-chamado-pendente',\n  templateUrl: 'tutor-chamado-pendente.html',\n})\nexport class TutorChamadoPendentePage {\n\n  chamadosPendente: Array<any> = [];\n  private img_materia_64: any = \"data:image/png+xml;base64,\";\n  type: boolean;\n  phoneNumber:number;\n\n\n  constructor(private conexaoApi: ConexaoApiProvider, private domSanitizer: DomSanitizer,\n    private statusBar: StatusBar, private utilsPr: UtilsProvider, private navParams: NavParams,private navCtrl: NavController ) {\n\n    this.type = true;\n    this.phoneNumber=553491228279;\n  }\n\n  ionViewWillEnter() {\n    // let status bar overlay webview\n    this.statusBar.overlaysWebView(false);\n    // set status bar to white\n    this.statusBar.backgroundColorByHexString('#311734');\n    //this.type = this.navParams.get('type');\n    //Se página está voltando do POP após tutor abrir chamado para aluno\n    //Se não, recebe da página home os chamados. Type==1 veio do home\n\n    if (this.type) {\n      this.chamadosPendente = this.navParams.get('chamado');\n\n      for (let i = 0; i < this.chamadosPendente.length; i++) {\n\n        this.img_materia_64 += this.chamadosPendente[i].image;\n        //this.materias[i].image = this.domSanitizer.bypassSecurityTrustUrl(this.img_materia_64);\n\n        this.chamadosPendente[i].image == null || this.chamadosPendente[i].image == \"\" ? this.chamadosPendente[i].image = \"assets/imgs/no-photo.jpg\"\n          : this.chamadosPendente[i].image = this.domSanitizer.bypassSecurityTrustUrl(this.img_materia_64);\n\n        //Reseta variável para não acrescentar string erroneamente\n        this.img_materia_64 = \"data:image/png+xml;base64,\";\n      }\n      this.type = !this.type;\n    }\n    else {\n      this.conexaoApi.requisitionPending(this.navParams.get('access_token'))\n        .then((request: any) => {\n          if (request.requests.length > 0) {\n            this.chamadosPendente = request.requests;\n            for (let i = 0; i < this.chamadosPendente.length; i++) {\n\n              this.img_materia_64 += this.chamadosPendente[i].image;\n              //this.materias[i].image = this.domSanitizer.bypassSecurityTrustUrl(this.img_materia_64);\n\n              this.chamadosPendente[i].image == null || this.chamadosPendente[i].image == \"\" ? this.chamadosPendente[i].image = \"assets/imgs/no-photo.jpg\"\n                : this.chamadosPendente[i].image = this.domSanitizer.bypassSecurityTrustUrl(this.img_materia_64);\n\n              //Reseta variável para não acrescentar string erroneamente\n              this.img_materia_64 = \"data:image/png+xml;base64,\";\n            }\n          }\n          else {\n            this.navCtrl.setRoot(HomePage);\n          }\n        });\n    }\n\n  }\n\n\n  //1º PASSO (SELEÇÃO DO CONTEÚDO DO CHAMADO) // Deve ser repetido até API retornar status 201\n  //Envia o 1 status, que é somente o chamado.id para trazer os itens\n  requisitionSetTheme(chamado) {\n    this.conexaoApi.requisitionSetTheme(chamado.id_call, 1)\n      .then((requisition: any) => {\n        this.navCtrl.push('TutorChamadoPendenteSelecaoConteudoPage', { requisition: requisition, chamado: chamado })\n      })\n      .catch((error) => this.utilsPr.alertError(\"Não foi possível fazer essa operação. Tente novamente!\"));\n  }\n\n  cancelarChamado(chamado) {\n    this.conexaoApi.requisitionCancel(this.navParams.get('access_token'), chamado.id_call)\n      .then((data: any) => {\n        this.utilsPr.alertInformation(data.message);\n        this.navCtrl.pop();\n      })\n      .catch((error) => {\n        this.utilsPr.alertError(\"Não foi possível cancelar essa chamado. Tente novamente!\");\n      });\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tutor-chamado-pendente/tutor-chamado-pendente.ts"],"sourceRoot":""}