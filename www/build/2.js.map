{"version":3,"sources":["../../src/pages/tutor-chamado-pendente-selecao-conteudo/tutor-chamado-pendente-selecao-conteudo.module.ts","../../src/pages/tutor-chamado-pendente-selecao-conteudo/tutor-chamado-pendente-selecao-conteudo.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TutorChamadoPendenteSelecaoConteudoPage } from './tutor-chamado-pendente-selecao-conteudo';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TutorChamadoPendenteSelecaoConteudoPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(TutorChamadoPendenteSelecaoConteudoPage),\r\n  ],\r\n})\r\nexport class TutorChamadoPendenteSelecaoConteudoPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tutor-chamado-pendente-selecao-conteudo/tutor-chamado-pendente-selecao-conteudo.module.ts","import { DomSanitizer } from '@angular/platform-browser';\r\nimport { Usuario } from './../../model/usuario';\r\nimport { StorageProvider } from './../../providers/storage/storage';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { ConexaoApiProvider } from '../../providers/conexao-api/conexao-api';\r\nimport { HomePage } from '../home/home';\r\nimport { UtilsProvider } from '../../providers/utils/utils';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-tutor-chamado-pendente-selecao-conteudo',\r\n  templateUrl: 'tutor-chamado-pendente-selecao-conteudo.html',\r\n})\r\nexport class TutorChamadoPendenteSelecaoConteudoPage {\r\n\r\n  requisition;\r\n  status: number;\r\n  //Exibe os itens disponíveis para seleção do conteúdo do chamado\r\n  listItem: Array<any> = [];\r\n  dadosChamado: any;\r\n\r\n  //Número de telefone para envio de mensagem no Whatsapp\r\n  studentPhone: number;\r\n\r\n  //Variáveis para 3º passo\r\n  listReason: Array<any> = [];\r\n  description: String;\r\n  reason: String;\r\n  //statusFinalizar: String;\r\n\r\n  //Valida para verificar se passo 2 já foi passado e pode ir para passo 3\r\n  validador: number;\r\n  statusPassoTres: boolean;\r\n\r\n  //Responsáveis pela abertura de novo chamado\r\n  usuario: Usuario;\r\n  viewArea: boolean;\r\n  viewMateria: boolean;\r\n  viewConcluir: boolean;\r\n  viewNewCall: boolean;\r\n  viewEncerrarAtendimento: boolean;\r\n  chamadoAluno: any;\r\n  areas: Array<any> = [];\r\n  //Responsáel por armazenar as seleções dos conteúdos\r\n  conteudoSelecionado: any;\r\n\r\n  //2Passo\r\n  materias: any;\r\n  private img_materia_64: any = \"data:image/png+xml;base64,\";\r\n  //3Passo\r\n  materia: any = {};\r\n  requisitionConcluir: any = {};\r\n\r\n  constructor(private conexaoApi: ConexaoApiProvider, private navCtrl: NavController, private domSanitizer: DomSanitizer,\r\n    private navParams: NavParams, private utilsPr: UtilsProvider,\r\n    private statusBar: StatusBar, private storage: StorageProvider) {\r\n\r\n    this.validador = 0;\r\n    this.statusPassoTres = false;\r\n\r\n    //Novo chamado\r\n    this.usuario = new Usuario();\r\n    this.viewArea = true;\r\n    this.viewMateria = false;\r\n    this.viewConcluir = false;\r\n    this.viewNewCall = false;\r\n    this.viewEncerrarAtendimento = true;\r\n\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    // let status bar overlay webview\r\n    this.statusBar.overlaysWebView(false);\r\n    // set status bar to white\r\n    this.statusBar.backgroundColorByHexString('#311734');\r\n\r\n    this.requisition = this.navParams.get('requisition').json();\r\n    this.status = this.navParams.get('requisition').status;\r\n    this.listItem = this.requisition.items;\r\n\r\n    //Dados do chamado. Usado para validar se é uma mentoria para envio de mensagem do Whatsapp\r\n    this.dadosChamado = this.navParams.get('chamado');\r\n\r\n    //Valida se tutor já selecionou as opções para fechamento do chamado.\r\n    //Se sim, basta concluir o chamado.\r\n    if (this.status == 201) {\r\n      this.conexaoApi.requisitionAnswer(this.requisition.id_call)\r\n        .then((requisitionAnswer: any) => {\r\n          //Conteúdo selecionado para exibição\r\n          this.conteudoSelecionado = requisitionAnswer.json().themeName;\r\n          this.studentPhone = requisitionAnswer.json().studentPhone;\r\n\r\n          //passo 2\r\n          this.listReason = requisitionAnswer.json().reasons;\r\n          this.statusPassoTres = true;\r\n        })\r\n        .catch((error) => {\r\n          if (error.status == 401) {\r\n            this.utilsPr.alertError(error.json().message);\r\n            this.navCtrl.pop();\r\n          }\r\n          else {\r\n            this.utilsPr.alertError(\"Não foi possível continuar. Tente novamente!\");\r\n          }\r\n        });\r\n      this.statusPassoTres = true;\r\n    }\r\n    else if (this.status == 401) {\r\n      this.utilsPr.alertInformation(\"Chamado em atendimento por outro tutor!\");\r\n      this.navCtrl.pop();\r\n    }\r\n\r\n    //REFERENTE A NOVO CHAMADO DO TUTOR PARA O ALUNO\r\n    this.chamadoAluno = this.navParams.get('chamado');\r\n    this.storage.getInfo(\"usuario\")\r\n      .then((usuario) => {\r\n        this.usuario = usuario;\r\n        //this.solicitarArea();\r\n      });\r\n  }\r\n\r\n  //Método para continuar nos passos 2 do chamado do tutor\r\n  //Envia status 2 para setTheme, agora com id_theme (id do item) e level_theme(level do item)\r\n  setTheme(item) {\r\n    //Se status 200 continua no 1º passo da validação, se status 201, vai para o 2º passo\r\n\r\n    //Se passo 3 negativo, faz passo 1 e 2, se positivo, passo 3\r\n    if (!this.statusPassoTres) {\r\n      this.conexaoApi.requisitionSetTheme(this.requisition.id_call, 2, item.id, item.level)\r\n        .then((data: any) => {\r\n          //Se retorno status = 200, reinsere dados no listItem,\r\n          //se 201, significa que já foi escolhido tema. Basta finalizar.\r\n          if (data.status == 200) {\r\n            this.listItem = data.json().items;\r\n          }\r\n          else {\r\n            //Passo 2 da solicitação\r\n            this.conexaoApi.requisitionAnswer(this.requisition.id_call)\r\n              .then((requisitionAnswer: any) => {\r\n                //Conteúdo selecionado para exibição\r\n                this.conteudoSelecionado = requisitionAnswer.json().themeName;\r\n                this.studentPhone = requisitionAnswer.json().studentPhone;\r\n\r\n                //passo 2\r\n                this.listReason = requisitionAnswer.json().reasons;\r\n                this.statusPassoTres = true;\r\n              })\r\n              .catch((error) => {\r\n                this.utilsPr.alertError(\"Não foi possível continuar. Tente novamente!\");\r\n              })\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  finalizarChamado(statusFinalizar: String) {\r\n    if ((this.description == undefined || this.description == '') ||\r\n      (this.reason == undefined || this.reason == '')) {\r\n      this.utilsPr.alertInformation(\"Preencha os dados corretamente!\");\r\n    }\r\n    else {\r\n      this.conexaoApi.answerRegister(this.requisition.id_call, this.description, this.reason, statusFinalizar)\r\n        .then((data: any) => {\r\n\r\n          if (data.status == 201) {\r\n            this.utilsPr.alertInformation(data.json().message);\r\n            if (statusFinalizar == 'new-call') {\r\n              this.statusPassoTres = false;\r\n              this.viewEncerrarAtendimento = false;\r\n              this.viewNewCall = true;\r\n              this.solicitarArea();\r\n              //this.navCtrl.push('AtendimentoUsuarioMateriaPage');\r\n            }\r\n            else {\r\n              this.navCtrl.setRoot(HomePage);\r\n            }\r\n\r\n          }\r\n          else {\r\n            this.utilsPr.alertError(\"Não foi possível finalizar o chamado. Tente novamente!\");\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  /****************************************************************************************************************** */\r\n  //REFERENTE AS AÇÕES PARA ABERTURA DE NOVO CHAMADO PELO TUTOR\r\n  solicitarArea() {\r\n    this.utilsPr.getLocation()\r\n      .then((coordenadas: any) => {\r\n\r\n        //Informa o ID do aluno para que ele abra um novo chamado para esse aluno\r\n        this.conexaoApi.requisition(this.usuario.token.access_token, this.chamadoAluno.user_id, coordenadas.lat, coordenadas.long)\r\n          .then((requisition: any) => {\r\n            this.areas = requisition.types;\r\n            //Habilita visulização da área\r\n            this.viewArea = true;\r\n          })\r\n          .catch((error) => {\r\n            if (error.status == 401) {\r\n              this.utilsPr.alertInformation(error.json().message);\r\n            }\r\n            else {\r\n              this.utilsPr.alertError(\"Ocorreu um erro ao solicitar o atendimento. Tente novamente!\");\r\n            }\r\n          });\r\n      })\r\n      .catch(() => {\r\n        this.utilsPr.alertError(\"Não foi possível acessar a localização do aparelho!\");\r\n      })\r\n  }\r\n\r\n  solicitarAtendimento(area) {\r\n    //Aguardando 2º passo\r\n    this.conexaoApi.requisitionMatter(this.usuario.token.access_token, area.id, this.chamadoAluno.user_id)\r\n      .then((rsMatter: any) => {\r\n        //Se há matérias, exibe-as\r\n        if (rsMatter.matters.length > 0) {\r\n\r\n          this.viewArea = false;\r\n          this.viewMateria = true;\r\n          this.materias = rsMatter.matters;\r\n          for (let i = 0; i < this.materias.length; i++) {\r\n\r\n            this.img_materia_64 += this.materias[i].image;\r\n            //this.materias[i].image = this.domSanitizer.bypassSecurityTrustUrl(this.img_materia_64);\r\n\r\n            this.materias[i].image == null || this.materias[i].image == \"\" ? this.materias[i].image = \"assets/imgs/no-photo.jpg\"\r\n              : this.materias[i].image = this.domSanitizer.bypassSecurityTrustUrl(this.img_materia_64);\r\n\r\n            //Reseta variável para não acrescentar string erroneamente\r\n            this.img_materia_64 = \"data:image/png+xml;base64,\";\r\n          }\r\n        }\r\n        else {\r\n          this.utilsPr.alertInformation(\"Não há tutores disponíveis para a área de \" + area.name + \"!\")\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        if (error.message) {\r\n          this.utilsPr.alertError(error.message);\r\n\r\n        }\r\n        else {\r\n          this.utilsPr.alertError(\"Não foi possível abrir chamado para essa matéria. Tente novamente!\");\r\n        }\r\n\r\n      })\r\n  }\r\n\r\n  //3º PASSO\r\n  solicitarAtendimentoConcluir(materia) {\r\n\r\n    this.conexaoApi.requisitionCreateAll(this.usuario.token.access_token, materia.id, this.chamadoAluno.user_id)\r\n      .then((requisitionCreatellAll) => {\r\n        this.materia = materia;\r\n        this.requisitionConcluir = requisitionCreatellAll;\r\n        this.viewArea = false;\r\n        this.viewMateria = false;\r\n        this.viewConcluir = true;\r\n      })\r\n      .catch((error) => {\r\n        if (error.message) {\r\n          this.utilsPr.alertError(error.message);\r\n        }\r\n        else {\r\n          this.utilsPr.alertError(\"Não foi possível abrir chamado para essa matéria. Tente novamente!\");\r\n        }\r\n\r\n      })\r\n  }\r\n\r\n  cancelarChamado() {\r\n    this.conexaoApi.requisitionCancel(this.usuario.token.access_token, this.requisition.id_call)\r\n      .then((data: any) => {\r\n        this.utilsPr.alertInformation(data.message);\r\n        this.navCtrl.pop();\r\n      })\r\n      .catch((error) => {\r\n        this.utilsPr.alertError(\"Não foi possível cancelar essa chamado. Tente novamente!\");\r\n      });\r\n    //console.log(\"Cancelar: \", this.requisition,\"\\n\",this.chamadoAluno);\r\n  }\r\n\r\n\r\n  mentoria() {\r\n\r\n    if (this.studentPhone == null) {\r\n      this.utilsPr.alertInformation(this.dadosChamado.name + ' não possui número de celular vinculado ao seu cadastro!');\r\n    }\r\n    else if(this.studentPhone.toString().length != 12){\r\n      this.utilsPr.alertInformation(\"O número de telefone cadastrado está incompleto. Atualize-o no portal!\");\r\n    }\r\n    else {\r\n      window.open(\"https://api.whatsapp.com/send?phone=\" + this.studentPhone + \"&text=Olá \" +\r\n        this.dadosChamado.name + \", vamos iniciar a mentoria para o chamado \" +\r\n        this.dadosChamado.id_call + \"!\", '_system', 'location=yes');\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tutor-chamado-pendente-selecao-conteudo/tutor-chamado-pendente-selecao-conteudo.ts"],"sourceRoot":""}